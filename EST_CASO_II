CREATE SCHEMA EST_CASO_II;
USE EST_CASO_II;

CREATE TABLE IF NOT EXISTS PASSAGEIROS (
PASS_CPF INT PRIMARY KEY,
PASS_NOME VARCHAR(100),
PASS_TELEFONE VARCHAR(30),
PASS_RUA VARCHAR(50),
PASS_BAIRRO VARCHAR (40),
PASS_UF VARCHAR(30),
PASS_CEP VARCHAR(25),
PASS_NUMRUA VARCHAR(10),
PASS_EMAIL VARCHAR (50)
);

CREATE TABLE IF NOT EXISTS AERONAVES(
AERON_PREFIXO INT PRIMARY KEY,
AERON_MODELO VARCHAR (50),
AERON_ANOFABRI DATE,
AERON_AUTONOMIA VARCHAR(40),
AERON_CAPACIDADE INT,
AERON_FABRICANTE VARCHAR(70)
);

CREATE TABLE IF NOT EXISTS FUNCIONÁRIOS(
FUNC_ID INT PRIMARY KEY,
FUNC_NOME VARCHAR(50),
FUNC_DATANASC DATE,
FUNC_RUA VARCHAR(50),
FUNC_BAIRRO VARCHAR (40),
FUNC_UF VARCHAR(30),
FUNC_CEP VARCHAR(25),
FUNC_NUMRUA VARCHAR(10),
FUNC_CPF VARCHAR(18),
FUNC_FUNÇÃO VARCHAR(40)
);

CREATE TABLE IF NOT EXISTS AEROPORTO(
AEROP_CODIGO INT PRIMARY KEY,
AEROP_NOME VARCHAR(90),
AEROP_CIDADE VARCHAR (50),
AEROP_PAIS VARCHAR(30),
AEROP_LATIUDE INT,
AEROP_LONGITUDE INT,
);

CREATE TABLE IF NOT EXISTS VOO(
VOO_ID INT PRIMARY KEY,
VOO_DATA DATE,
VOO_HORA TIME,
VOO_AER_ORIGEM INT,
VOO_AER_DESTINO INT,
VOO_AERONAVE INT,
CONSTRAINT VOO_FK_ORIGEM FOREINGN KEY (VOO_AER_ORIGEM) REFERENCES AEROPORTO(AEROP_CODIGO),
CONSTRAINT VOO_FK_DESTINO FOREINGN KEY (VOO_AER_DESTINO) REFERENCES AEROPORTO(AERO_CODIGO),
CONSTRAINT VOO_FK_AERO FOREINGN KEY (VOO_AERONAVE) REFERENCES AERONAVES(AERON_PREFIXO)
);

CREATE TABLE IF NOT EXISTS OPERAÇÃO_VOO(
OPE_VOO_ID INT,
OPE_FUNC_ID INT,
PRIMARY KEY (OPE_VOO_ID,OPE_FUNC_ID),
CONSTRAINT OPE_FK_VOO FOREIGN KEY(OPE_VOO_ID INT) REFERENCES VOO((VOO_ID),
CONSTRAINT OPE_FK_FUNC FOREIGN KEY(OPE_FUNC_ID) REFERENCES FUNCIONARIOS(FUNC_ID)
);

CREATE TABLE IF NOT EXISTS RESERVAS (
RESER_COD INT PRIMARY KEY,
RES_PASS_CPF INT,
RES_VOO_ID INT,
CONSTRAINT RES_FK_PASS FOREIGN KEY (RES_PASS_CPF) REFERENCES PASSAGEIROS(PASS_CPF),
CONSTRAINT RES_FK_VOO FOREIGN KEY (RES_VOO_ID) REFERENCES VOO(VOO_ID)
);

-----------------------------------------------------
#DDL'S




