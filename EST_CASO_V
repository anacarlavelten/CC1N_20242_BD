CREATE SCHEMA EST_CASO_V;

USE EST_CASO_V;


CREATE TABLE IF NOT EXISTS CLIENTE(
CLIENTE_CPF INT PRIMARY KEY,
CLIENTE_NOME VARCHAR(100),
CLIENTE_DATANASC DATE,
CLIENTE_RUA VARCHAR(45),
CLIENTE_NUMRUA INT,
CLIENTE_BAIRRO VARCHAR(45),
CLIENTE_CIDADE VARCHAR(45),
CLIENTE_ESTADO VARCHAR(45),
CLIENTE_PAIS VARCHAR(30)
);

CREATE TABLE IF NOT EXISTS FORNECEDORES(
FORN_ID INT PRIMARY KEY,
FORN_NOME VARCHAR (100),
FORN_CONTATO VARCHAR (50)
);

CREATE TABLE IF NOT EXISTS PRODUTOS(
PROD_ID INT PRIMARY KEY,
PROD_NOME VARCHAR(60),
PROD_CATEGORIA VARCHAR (30),
PROD_QUANTIDADE DECIMAL(10,3),
PROD_STATUS SET("DISPONÍVEL","INDÍSPONÍVEL")
);

CREATE TABLE IF NOT EXISTS FORNECEDOR_PRODUTOS(
FORNEC INT,
PRODUTO INT,
PRIMARY KEY (FORNEC,PRODUTO),
CONSTRAINT FORN_FK FOREIGN KEY (FORNEC) REFERENCES FORNECEDORES(FORN_ID),
CONSTRAINT PROD_FK FOREIGN KEY (PRODUTO) REFERENCES PRODUTOS (PROD_ID)
);

CREATE TABLE IF NOT EXISTS VENDAS(
VENDA_ID INT PRIMARY KEY,
VENDA_CLI INT,
VENDA_PROD INT,
VENDA_DATA DATE,
VENDA_PAGAMENTO SET ("DÉBITO", "CRÉDITO", "PIX", "BOLETO", "CARTÃO"),
CONSTRAINT CLIENTE_FK FOREIGN KEY (VENDA_CLI) REFERENCES CLIENTE(CLIENTE_CPF),
CONSTRAINT PRODUTO_FK FOREIGN KEY (VENDA_PROD) REFERENCES PRODUTOS (PROD_ID)
);

CREATE TABLE IF NOT EXISTS PAGAMENTOS(
PAG_ID INT PRIMARY KEY,
PAG_DATA DATE,
PAG_CLI INT,
PAG_VALOR DECIMAL (10,2),
PAG_STATUS SET ("PAGO","PENDENTE"),
CONSTRAINT PAG_FK_CLI FOREIGN KEY (PAG_CLI) REFERENCES CLIENTE(CLIENTE_CPF)
);
--------------------------------------------------------------------------------------

#DDL'S

















